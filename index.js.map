{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '46105418-b730233871b128ee828c4e337';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  try {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error('Failed to fetch images');\n    }\n    const data = await response.json();\n\n    \n    if (data.hits.length === 0) {\n      throw new Error('Sorry, there are no images matching your search query. Please try again!');\n    }\n\n    return data.hits; \n  } catch (error) {\n    console.error(error.message);\n    alert(error.message);\n    return [];\n  }\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightbox;\n\nexport function renderGallery(images, gallery) {\n  gallery.innerHTML = ''; \n\n  const markup = images.map(image => `\n    <a href=\"${image.largeImageURL}\" class=\"gallery-link\" data-lightbox=\"image\">\n      <div class=\"gallery-item\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery-image\" loading=\"lazy\" />\n        <div class=\"info\">\n          <p><b>Likes:</b> ${image.likes}</p>\n          <p><b>Views:</b> ${image.views}</p>\n          <p><b>Comments:</b> ${image.comments}</p>\n          <p><b>Downloads:</b> ${image.downloads}</p>\n        </div>\n      </div>\n    </a>\n  `).join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('.gallery-link', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  }\n}","import { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-functions.js';\nimport iziToast from 'izitoast'; \nimport 'izitoast/dist/css/iziToast.min.css'; \n\nconst form = document.getElementById('searchForm');\nconst gallery = document.getElementById('gallery');\nconst loaderContainer = document.getElementById('loader-container'); \n\nform.addEventListener('submit', async function (event) {\n  event.preventDefault(); \n\n  const query = document.getElementById('searchInput').value.trim();\n\n  if (query === '') {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search query',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  loaderContainer.style.display = 'block';\n\n  try {\n    const images = await fetchImages(query);\n\n    if (images.length > 0) {\n      renderGallery(images, gallery);\n      iziToast.success({\n        title: 'Success',\n        message: `Found ${images.length} images for \"${query}\"`,\n        position: 'topRight',\n      });\n    } else {\n      iziToast.error({\n        title: 'Error',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n    }\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: error.message,\n      position: 'topRight',\n    });\n  } finally {\n    loaderContainer.style.display = 'none';\n  }\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","url","response","data","error","lightbox","renderGallery","images","gallery","markup","image","SimpleLightbox","form","loaderContainer","event","iziToast"],"mappings":"wvBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,2DAErE,GAAI,CACF,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAE1C,MAAMC,EAAO,MAAMD,EAAS,OAG5B,GAAIC,EAAK,KAAK,SAAW,EACvB,MAAM,IAAI,MAAM,0EAA0E,EAG5F,OAAOA,EAAK,IACb,OAAQC,EAAO,CACd,eAAQ,MAAMA,EAAM,OAAO,EAC3B,MAAMA,EAAM,OAAO,EACZ,EACR,CACH,CCrBA,IAAIC,EAEG,SAASC,EAAcC,EAAQC,EAAS,CAC7CA,EAAQ,UAAY,GAEpB,MAAMC,EAASF,EAAO,IAAIG,GAAS;AAAA,eACtBA,EAAM,aAAa;AAAA;AAAA,oBAEdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,6BAE7BA,EAAM,KAAK;AAAA,6BACXA,EAAM,KAAK;AAAA,gCACRA,EAAM,QAAQ;AAAA,iCACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,GAI7C,EAAE,KAAK,EAAE,EAEVF,EAAQ,mBAAmB,YAAaC,CAAM,EAE1CJ,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIM,EAAe,gBAAiB,CAC7C,aAAc,MACd,aAAc,GACpB,CAAK,CAEL,CC3BA,MAAMC,EAAO,SAAS,eAAe,YAAY,EAC3CJ,EAAU,SAAS,eAAe,SAAS,EAC3CK,EAAkB,SAAS,eAAe,kBAAkB,EAElED,EAAK,iBAAiB,SAAU,eAAgBE,EAAO,CACrDA,EAAM,eAAc,EAEpB,MAAMd,EAAQ,SAAS,eAAe,aAAa,EAAE,MAAM,OAE3D,GAAIA,IAAU,GAAI,CAChBe,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDF,EAAgB,MAAM,QAAU,QAEhC,GAAI,CACF,MAAMN,EAAS,MAAMR,EAAYC,CAAK,EAElCO,EAAO,OAAS,GAClBD,EAAcC,EAAQC,CAAO,EAC7BO,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,SAASR,EAAO,MAAM,gBAAgBP,CAAK,IACpD,SAAU,UAClB,CAAO,GAEDe,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2EACT,SAAU,UAClB,CAAO,CAEJ,OAAQX,EAAO,CACdW,EAAS,MAAM,CACb,MAAO,QACP,QAASX,EAAM,QACf,SAAU,UAChB,CAAK,CACL,QAAY,CACRS,EAAgB,MAAM,QAAU,MACjC,CACH,CAAC"}